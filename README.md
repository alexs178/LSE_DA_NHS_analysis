# LSE_DA_NHS_analysis
This GitHub repository contains all project files relating to analysing NHS and healthcare data.

I used read_csv and read_excel functions to import each of the three NHS datasets into their own DataFrame. For each DataFrame, I utilised columns, shape and dtypes methods to obtain column names, number of rows and columns, and column data types. I created DataFrames using df.isna() functions to determine the number of missing values in the original DataFrames, and discovered that there were no missing values present. For the original DataFrames, I used describe and info methods to obtain descriptive statistics and metadata. I utilised the National Categories DataFrame to count the number of locations, service settings, context types and national categories. For each column, I employed the unique method to generate a list of unique values, and the len() function to return the count of unique values. I assigned each count a variable, and used the print() function to return each count alongside an explanatory docstring. I used the same approach for Appointment Statuses in the Appointments Regional DataFrame. I discovered there are 106 locations, 5 service settings, 3 context types, 18 national categories and 3 appointment statuses (with the exception of locations, the other columns include categories to account for unmapped, unknown and/or inconsistently mapped values). To determine the five locations with the highest number of records, I employed the value_counts method to create a table of records per location, sorted from highest to lowest. I assigned a variable to this table and used the head() function to display the five locations with the highest records, and also printed an explanatory docstring.

After converting appointment_date’s data type in ad to datetime64[ns] using astype(), I utilised min() and max() on appointment_date to determine the first and last appointment dates in ad and nc (I used the same approach for appointment_month in ar). Across all datasets, the reporting period covered January 2020 until 30th June 2022, with only ar encompassing the entire period. To determine which service setting reported the most appointments from 1st January – 1st June 2022 in North West London, I created a subset of nc using loc() to filter on sub_icb_location_name and appointment_date. I used groupby(), sum() and sort_values() on this subset to calculate the most popular service setting, which was clearly General Practice (GP) (c.4.8m appointments). Since only ar covered the entire reporting period, I employed groupby(), sum() and sort_values() on ar to calculate appointments per month, revealing November 2021 to be the busiest month (c.30.4m appointments). I used value_counts to calculate records per month in ar and nc (I grouped ad by month and counted records per month). This analysis revealed which months and service settings NHS demand was highest, helping answer if there was adequate capacity to meet demand.

I used groupby() and sum() functions to create DataFrames that calculated monthly appointments for each service setting, context type, and national category respectively. I used lineplot() to visualise monthly appointments for each categorical variable (see Fig. 2-4), as lineplots are effective at showing value changes over time. GP, Care Related Encounters and General Consultation Routine were the most popular values per categorical variable. Amongst these values, appointments were lowest in August-2021 & April-2022. GP and Care Related Encounters were highest in October-November-2021 & March-2022, while General Consultation Routines were highest in November-2021 & March-2022. I used groupby() and sum() functions to calculate daily appointments per service setting. To effectively visualise time-series, I generated 4 lineplots visualising daily appointments per service setting in August/Summer, October/Autumn, January-2022/Winter and April/Spring (see Fig. 5-8). In each season, GP was the most popular service setting, with weekday appointments being significantly higher than weekday/bank holiday appointments. The weekday with the highest GP appointments was in October (which also featured the highest Saturday GP appointments), while the weekday with the lowest GP appointments was in April. Overall, NHS demand appears highest in early Autumn, and lowest in early Summer.

I used read_csv() to import ‘tweets.csv’ into a DataFrame, followed by a for loop to create a list of all hashtags in the ‘tweet_full_text’ column, and stored this list in a variable ‘tags’ using append(). I employed Series() to convert ‘tags’ into a Series ‘hashtags’, and created this dictionary: {‘word’: hashtags, ‘count’: 1}. I utilised DataFrame() to convert this dictionary into a DataFrame ‘data’, where each cell in the ‘word’ and ‘count’ columns contained a hashtag and 1 respectively. I created a ‘data’ subset by using groupby() and sum() to count the utilisations of each hashtag, and then created an additional subset by filtering out hashtags used 10 times or less. I used barplot() to visualise hashtags used more than 10 times (see Fig. 9). “healthcare” was the top trending hashtag with 716 utilisations, with “health” being the other hashtag used more than 50 times. “job” and “hiring” were amongst the top 20 trending hashtags, suggesting the NHS is understaffed. Generally, tweets can be used by the NHS to identify and act on positive and negative feedback. Trending hashtags can also be used in tweets to communicate important information to a wide audience.
